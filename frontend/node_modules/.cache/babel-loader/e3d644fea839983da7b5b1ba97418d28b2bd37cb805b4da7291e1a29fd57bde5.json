{"ast":null,"code":"var _jsxFileName = \"/Users/ramyaranjanmishra/Desktop/veerdrishti/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:8000';\nexport default function App() {\n  _s();\n  const imgRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [frameUrl, setFrameUrl] = useState(`${API_BASE}/api/frame.jpg?ts=${Date.now()}`);\n  const [detections, setDetections] = useState({\n    frame_size: [0, 0],\n    detections: []\n  });\n  const [soldiers, setSoldiers] = useState([]);\n  const [alerts, setAlerts] = useState([]);\n  const beepRef = useRef(null);\n  const [soundEnabled, setSoundEnabled] = useState(false);\n\n  // Refresh image every 1s to avoid caching\n  useEffect(() => {\n    const id = setInterval(() => {\n      setFrameUrl(`${API_BASE}/api/frame.jpg?ts=${Date.now()}`);\n    }, 1000);\n    return () => clearInterval(id);\n  }, []);\n\n  // Poll detections every 1s\n  useEffect(() => {\n    const id = setInterval(async () => {\n      try {\n        const res = await fetch(`${API_BASE}/api/detections`);\n        const json = await res.json();\n        setDetections(json);\n      } catch (e) {\n        // swallow\n      }\n    }, 1000);\n    return () => clearInterval(id);\n  }, []);\n\n  // Draw detections on canvas overlay scaled to displayed image\n  useEffect(() => {\n    const img = imgRef.current;\n    const canvas = canvasRef.current;\n    if (!img || !canvas) return;\n    const ctx = canvas.getContext('2d');\n    const dispW = img.clientWidth;\n    const dispH = img.clientHeight;\n    canvas.width = dispW;\n    canvas.height = dispH;\n    ctx.clearRect(0, 0, dispW, dispH);\n    const [frameW, frameH] = detections.frame_size || [0, 0];\n    if (!frameW || !frameH) return;\n    const scaleX = dispW / frameW;\n    const scaleY = dispH / frameH;\n    const unknowns = [];\n    (detections.detections || []).forEach(d => {\n      var _d$confidence$toFixed, _d$confidence, _d$confidence$toFixed2;\n      const [x, y, w, h] = d.bbox;\n      const sx = x * scaleX;\n      const sy = y * scaleY;\n      const sw = w * scaleX;\n      const sh = h * scaleY;\n      const isMatch = !!d.face_match;\n      ctx.strokeStyle = isMatch ? 'lime' : 'red';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(sx, sy, sw, sh);\n      ctx.fillStyle = isMatch ? 'rgba(0,255,0,0.2)' : 'rgba(255,0,0,0.2)';\n      ctx.fillRect(sx, sy, sw, sh);\n      ctx.fillStyle = 'white';\n      ctx.font = '12px sans-serif';\n      const label = isMatch ? `${d.label} (${(_d$confidence$toFixed = (_d$confidence = d.confidence) === null || _d$confidence === void 0 ? void 0 : (_d$confidence$toFixed2 = _d$confidence.toFixed) === null || _d$confidence$toFixed2 === void 0 ? void 0 : _d$confidence$toFixed2.call(_d$confidence, 1)) !== null && _d$confidence$toFixed !== void 0 ? _d$confidence$toFixed : ''})` : 'unknown';\n      ctx.fillText(label, sx + 4, sy - 4 < 10 ? sy + 12 : sy - 4);\n      if (!isMatch) unknowns.push(d);\n    });\n    if (unknowns.length > 0) triggerAlert('Unknown person detected');\n  }, [detections, frameUrl]);\n\n  // Poll soldiers every 3s\n  useEffect(() => {\n    const id = setInterval(async () => {\n      try {\n        const res = await fetch(`${API_BASE}/api/soldiers`);\n        const json = await res.json();\n        const list = json.soldiers || [];\n        setSoldiers(list);\n        if (list.some(s => s.status === 'critical')) {\n          triggerAlert('Critical soldier status');\n        }\n      } catch (e) {}\n    }, 3000);\n    return () => clearInterval(id);\n  }, []);\n  const triggerAlert = message => {\n    setAlerts(prev => [{\n      ts: Date.now(),\n      message\n    }, ...prev].slice(0, 50));\n    if (soundEnabled) {\n      try {\n        if (beepRef.current) {\n          beepRef.current.currentTime = 0;\n          beepRef.current.play();\n        }\n      } catch (e) {}\n    }\n  };\n  const enableSound = async () => {\n    try {\n      if (beepRef.current) {\n        // Attempt a play/pause cycle to unlock autoplay\n        await beepRef.current.play();\n        beepRef.current.pause();\n        beepRef.current.currentTime = 0;\n        setSoundEnabled(true);\n      }\n    } catch (e) {\n      // If still blocked, user may need to click again\n    }\n  };\n  const onSubmitRegister = async e => {\n    e.preventDefault();\n    const form = new FormData(e.currentTarget);\n    const id = form.get('id');\n    const file = form.get('file');\n    if (!id || !file) return;\n    try {\n      await fetch(`${API_BASE}/api/register-face`, {\n        method: 'POST',\n        body: form\n      });\n      triggerAlert(`Registered face for ${id}`);\n      e.currentTarget.reset();\n    } catch (e) {}\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto p-4 space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: beepRef,\n      src: \"data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAABCxAgAEABAAZGF0YQAAAAA=\",\n      preload: \"auto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold\",\n      children: \"VeerDrishti\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), !soundEnabled && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2 bg-yellow-100 text-yellow-900 rounded flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Click to enable alert sounds (browser autoplay policy).\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: enableSound,\n        className: \"ml-3 px-3 py-1 bg-yellow-600 text-white rounded\",\n        children: \"Enable Sound\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid md:grid-cols-3 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:col-span-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            ref: imgRef,\n            src: frameUrl,\n            alt: \"live\",\n            className: \"w-full h-auto rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            ref: canvasRef,\n            className: \"absolute inset-0 w-full h-full pointer-events-none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: onSubmitRegister,\n          className: \"p-3 bg-white rounded shadow space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"font-semibold\",\n            children: \"Register Face\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"id\",\n            className: \"w-full border p-2 rounded\",\n            placeholder: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"file\",\n            type: \"file\",\n            accept: \"image/*\",\n            className: \"w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"w-full bg-blue-600 text-white py-2 rounded\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-white rounded shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"font-semibold mb-2\",\n            children: \"Alerts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-1 max-h-48 overflow-auto\",\n            children: [alerts.map(a => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-red-700\",\n              children: [new Date(a.ts).toLocaleTimeString(), \" - \", a.message]\n            }, a.ts, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this)), alerts.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-gray-500 text-sm\",\n              children: \"No alerts\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), soldiers.some(s => s.status === 'critical') && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2 bg-red-600 text-white rounded\",\n      children: \"Critical soldier status detected!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid sm:grid-cols-2 md:grid-cols-4 gap-3\",\n      children: soldiers.map(s => {\n        var _s$gps, _s$gps2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-white rounded shadow border\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold\",\n            children: s.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: [\"HR: \", s.heart_rate, \" bpm\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: [\"GPS: \", (_s$gps = s.gps) === null || _s$gps === void 0 ? void 0 : _s$gps[0], \", \", (_s$gps2 = s.gps) === null || _s$gps2 === void 0 ? void 0 : _s$gps2[1]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `text-sm ${s.status === 'critical' ? 'text-red-700 font-bold' : 'text-gray-700'}`,\n            children: [\"Status: \", s.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, s.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"GAw+I6VnBTYo/PAQO7G0HbNzxBo=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","API_BASE","App","_s","imgRef","canvasRef","frameUrl","setFrameUrl","Date","now","detections","setDetections","frame_size","soldiers","setSoldiers","alerts","setAlerts","beepRef","soundEnabled","setSoundEnabled","id","setInterval","clearInterval","res","fetch","json","e","img","current","canvas","ctx","getContext","dispW","clientWidth","dispH","clientHeight","width","height","clearRect","frameW","frameH","scaleX","scaleY","unknowns","forEach","d","_d$confidence$toFixed","_d$confidence","_d$confidence$toFixed2","x","y","w","h","bbox","sx","sy","sw","sh","isMatch","face_match","strokeStyle","lineWidth","strokeRect","fillStyle","fillRect","font","label","confidence","toFixed","call","fillText","push","length","triggerAlert","list","some","s","status","message","prev","ts","slice","currentTime","play","enableSound","pause","onSubmitRegister","preventDefault","form","FormData","currentTarget","get","file","method","body","reset","className","children","ref","src","preload","fileName","_jsxFileName","lineNumber","columnNumber","onClick","alt","onSubmit","name","placeholder","type","accept","map","a","toLocaleTimeString","_s$gps","_s$gps2","heart_rate","gps","_c","$RefreshReg$"],"sources":["/Users/ramyaranjanmishra/Desktop/veerdrishti/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\n\nconst API_BASE = 'http://localhost:8000';\n\nexport default function App() {\n  const imgRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  const [frameUrl, setFrameUrl] = useState(`${API_BASE}/api/frame.jpg?ts=${Date.now()}`);\n  const [detections, setDetections] = useState({ frame_size: [0, 0], detections: [] });\n  const [soldiers, setSoldiers] = useState([]);\n  const [alerts, setAlerts] = useState([]);\n  const beepRef = useRef(null);\n  const [soundEnabled, setSoundEnabled] = useState(false);\n\n  // Refresh image every 1s to avoid caching\n  useEffect(() => {\n    const id = setInterval(() => {\n      setFrameUrl(`${API_BASE}/api/frame.jpg?ts=${Date.now()}`);\n    }, 1000);\n    return () => clearInterval(id);\n  }, []);\n\n  // Poll detections every 1s\n  useEffect(() => {\n    const id = setInterval(async () => {\n      try {\n        const res = await fetch(`${API_BASE}/api/detections`);\n        const json = await res.json();\n        setDetections(json);\n      } catch (e) {\n        // swallow\n      }\n    }, 1000);\n    return () => clearInterval(id);\n  }, []);\n\n  // Draw detections on canvas overlay scaled to displayed image\n  useEffect(() => {\n    const img = imgRef.current;\n    const canvas = canvasRef.current;\n    if (!img || !canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    const dispW = img.clientWidth;\n    const dispH = img.clientHeight;\n    canvas.width = dispW;\n    canvas.height = dispH;\n\n    ctx.clearRect(0, 0, dispW, dispH);\n\n    const [frameW, frameH] = detections.frame_size || [0, 0];\n    if (!frameW || !frameH) return;\n    const scaleX = dispW / frameW;\n    const scaleY = dispH / frameH;\n\n    const unknowns = [];\n    (detections.detections || []).forEach(d => {\n      const [x, y, w, h] = d.bbox;\n      const sx = x * scaleX;\n      const sy = y * scaleY;\n      const sw = w * scaleX;\n      const sh = h * scaleY;\n\n      const isMatch = !!d.face_match;\n      ctx.strokeStyle = isMatch ? 'lime' : 'red';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(sx, sy, sw, sh);\n      ctx.fillStyle = isMatch ? 'rgba(0,255,0,0.2)' : 'rgba(255,0,0,0.2)';\n      ctx.fillRect(sx, sy, sw, sh);\n      ctx.fillStyle = 'white';\n      ctx.font = '12px sans-serif';\n      const label = isMatch ? `${d.label} (${d.confidence?.toFixed?.(1) ?? ''})` : 'unknown';\n      ctx.fillText(label, sx + 4, sy - 4 < 10 ? sy + 12 : sy - 4);\n\n      if (!isMatch) unknowns.push(d);\n    });\n\n    if (unknowns.length > 0) triggerAlert('Unknown person detected');\n  }, [detections, frameUrl]);\n\n  // Poll soldiers every 3s\n  useEffect(() => {\n    const id = setInterval(async () => {\n      try {\n        const res = await fetch(`${API_BASE}/api/soldiers`);\n        const json = await res.json();\n        const list = json.soldiers || [];\n        setSoldiers(list);\n        if (list.some(s => s.status === 'critical')) {\n          triggerAlert('Critical soldier status');\n        }\n      } catch (e) {}\n    }, 3000);\n    return () => clearInterval(id);\n  }, []);\n\n  const triggerAlert = (message) => {\n    setAlerts(prev => [{ ts: Date.now(), message }, ...prev].slice(0, 50));\n    if (soundEnabled) {\n      try {\n        if (beepRef.current) {\n          beepRef.current.currentTime = 0;\n          beepRef.current.play();\n        }\n      } catch (e) {}\n    }\n  };\n\n  const enableSound = async () => {\n    try {\n      if (beepRef.current) {\n        // Attempt a play/pause cycle to unlock autoplay\n        await beepRef.current.play();\n        beepRef.current.pause();\n        beepRef.current.currentTime = 0;\n        setSoundEnabled(true);\n      }\n    } catch (e) {\n      // If still blocked, user may need to click again\n    }\n  };\n\n  const onSubmitRegister = async (e) => {\n    e.preventDefault();\n    const form = new FormData(e.currentTarget);\n    const id = form.get('id');\n    const file = form.get('file');\n    if (!id || !file) return;\n    try {\n      await fetch(`${API_BASE}/api/register-face`, { method: 'POST', body: form });\n      triggerAlert(`Registered face for ${id}`);\n      e.currentTarget.reset();\n    } catch (e) {}\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-4 space-y-4\">\n      <audio ref={beepRef} src=\"data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAABCxAgAEABAAZGF0YQAAAAA=\" preload=\"auto\" />\n\n      <h1 className=\"text-2xl font-bold\">VeerDrishti</h1>\n\n      {!soundEnabled && (\n        <div className=\"p-2 bg-yellow-100 text-yellow-900 rounded flex items-center justify-between\">\n          <span>Click to enable alert sounds (browser autoplay policy).</span>\n          <button onClick={enableSound} className=\"ml-3 px-3 py-1 bg-yellow-600 text-white rounded\">Enable Sound</button>\n        </div>\n      )}\n\n      <div className=\"grid md:grid-cols-3 gap-4\">\n        <div className=\"md:col-span-2\">\n          <div className=\"relative w-full\">\n            <img ref={imgRef} src={frameUrl} alt=\"live\" className=\"w-full h-auto rounded\" />\n            <canvas ref={canvasRef} className=\"absolute inset-0 w-full h-full pointer-events-none\" />\n          </div>\n        </div>\n        <div className=\"space-y-2\">\n          <form onSubmit={onSubmitRegister} className=\"p-3 bg-white rounded shadow space-y-2\">\n            <h2 className=\"font-semibold\">Register Face</h2>\n            <input name=\"id\" className=\"w-full border p-2 rounded\" placeholder=\"ID\" />\n            <input name=\"file\" type=\"file\" accept=\"image/*\" className=\"w-full\" />\n            <button className=\"w-full bg-blue-600 text-white py-2 rounded\">Submit</button>\n          </form>\n\n          <div className=\"p-3 bg-white rounded shadow\">\n            <h2 className=\"font-semibold mb-2\">Alerts</h2>\n            <div className=\"space-y-1 max-h-48 overflow-auto\">\n              {alerts.map(a => (\n                <div key={a.ts} className=\"text-sm text-red-700\">{new Date(a.ts).toLocaleTimeString()} - {a.message}</div>\n              ))}\n              {alerts.length === 0 && <div className=\"text-gray-500 text-sm\">No alerts</div>}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {soldiers.some(s => s.status === 'critical') && (\n        <div className=\"p-2 bg-red-600 text-white rounded\">Critical soldier status detected!</div>\n      )}\n\n      <div className=\"grid sm:grid-cols-2 md:grid-cols-4 gap-3\">\n        {soldiers.map(s => (\n          <div key={s.id} className=\"p-3 bg-white rounded shadow border\">\n            <div className=\"font-semibold\">{s.id}</div>\n            <div className=\"text-sm\">HR: {s.heart_rate} bpm</div>\n            <div className=\"text-sm\">GPS: {s.gps?.[0]}, {s.gps?.[1]}</div>\n            <div className={`text-sm ${s.status === 'critical' ? 'text-red-700 font-bold' : 'text-gray-700'}`}>Status: {s.status}</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}